{
    "type": "webhook",
    "name": "make-reservation",
    "description": "Create a new reservation. Only call after: (1) checking availability and confirming a slot is available, (2) collecting all required information (name, phone, email, date, time, party size), and (3) verbally confirming details with the customer.",
    "disable_interruptions": false,
    "force_pre_tool_speech": "force",
    "assignments": [],
    "tool_call_sound": null,
    "tool_call_sound_behavior": "auto",
    "execution_mode": "immediate",
    "api_schema": {
        "url": "https://resto-ai.adhityan.com/api/reservations",
        "method": "POST",
        "path_params_schema": [],
        "query_params_schema": [],
        "request_body_schema": {
            "id": "body",
            "type": "object",
            "description": "All required fields must be collected before calling this tool. Confirm details with customer first. For time, guide customers to book at :00, :15, :30, or :45 intervals (e.g., 'Would 7:00 or 7:15 work better for you?').",
            "properties": [
                {
                    "id": "date",
                    "type": "string",
                    "value_type": "llm_prompt",
                    "description": "Reservation date in ISO format YYYY-MM-DD. Convert natural language (e.g., 'this Saturday', 'December 25th') to this format. This must match the date from the availability check.",
                    "dynamic_variable": "",
                    "constant_value": "",
                    "enum": null,
                    "is_system_provided": false,
                    "required": true
                },
                {
                    "id": "time",
                    "type": "string",
                    "value_type": "llm_prompt",
                    "description": "Arrival time in 24-hour HH:MM format (e.g., '19:00', '20:30'). Prefer times ending in :00, :15, :30, or :45. Guide customer naturally: 'We have 7pm or 7:15pm available—which works better?' Convert from 12-hour: 7pm → 19:00, 8:30pm → 20:30.",
                    "dynamic_variable": "",
                    "constant_value": "",
                    "enum": null,
                    "is_system_provided": false,
                    "required": true
                },
                {
                    "id": "phone",
                    "type": "string",
                    "value_type": "llm_prompt",
                    "description": "Customer's phone number. Any format is acceptable ('+33612345678', '0612345678', '06 12 34 56 78') — the system will normalize it automatically. Use the number from system context unless customer provides a different number.",
                    "dynamic_variable": "",
                    "constant_value": "",
                    "enum": null,
                    "is_system_provided": false,
                    "required": true
                },
                {
                    "id": "comments",
                    "type": "string",
                    "value_type": "llm_prompt",
                    "description": "Special requests, accessibility needs, or occasion notes mentioned by customer. Examples: 'Window seat preferred', 'Birthday celebration', 'Wheelchair accessible table needed'. Only include if customer provides such information. Do NOT include dietary restrictions or allergies here — instead use the allergies field for those.",
                    "dynamic_variable": "",
                    "constant_value": "",
                    "enum": null,
                    "is_system_provided": false,
                    "required": false
                },
                {
                    "id": "allergies",
                    "type": "string",
                    "value_type": "llm_prompt",
                    "description": "Dietary restrictions, food allergies, or special dietary requirements mentioned by customer. Examples: 'Gluten-free', 'No shellfish', 'Peanut allergy', 'Vegetarian', 'Lactose intolerant'. Only include if customer mentions dietary needs. This helps kitchen prepare appropriately.",
                    "dynamic_variable": "",
                    "constant_value": "",
                    "enum": null,
                    "is_system_provided": false,
                    "required": false
                },
                {
                    "id": "numberOfCustomers",
                    "type": "integer",
                    "value_type": "llm_prompt",
                    "description": "Total party size including the caller. Infer from context: 'table for two' = 2, 'me and three friends' = 4, 'my family of five' = 5. This must match the party size from the availability check.",
                    "dynamic_variable": "",
                    "constant_value": "",
                    "enum": null,
                    "is_system_provided": false,
                    "required": true
                },
                {
                    "id": "email",
                    "type": "string",
                    "value_type": "llm_prompt",
                    "description": "Customer's email address (required). Format: 'user@example.com'. Ask naturally: 'May I have your email address for the reservation confirmation?' This is required to create the reservation.",
                    "dynamic_variable": "",
                    "constant_value": "",
                    "enum": null,
                    "is_system_provided": false,
                    "required": true
                },
                {
                    "id": "roomId",
                    "type": "string",
                    "value_type": "llm_prompt",
                    "description": "The UUID of the room if a special seating request was mentioned. Only include if explicitly confirmed with customer. Map the customer request to the UUID of the room that was asked.",
                    "dynamic_variable": "",
                    "constant_value": "",
                    "enum": null,
                    "is_system_provided": false,
                    "required": false
                },
                {
                    "id": "name",
                    "type": "string",
                    "value_type": "llm_prompt",
                    "description": "Customer's full name (first and last). Ask for spelling if pronunciation is unclear: 'Could you spell your last name for me?' Format: 'Jean Dupont', 'Maria Garcia'. Ensure you have both first and last name.",
                    "dynamic_variable": "",
                    "constant_value": "",
                    "enum": null,
                    "is_system_provided": false,
                    "required": true
                }
            ],
            "required": false,
            "value_type": "llm_prompt"
        },
        "request_headers": [],
        "auth_connection": {
            "auth_connection_id": "auth_6601k887hn15f14ag2fqx7qck7d7"
        }
    },
    "response_timeout_secs": 5,
    "dynamic_variables": {
        "dynamic_variable_placeholders": {}
    }
}
